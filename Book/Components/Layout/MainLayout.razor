@inherits LayoutComponentBase
@inject Book.Services.CartService CartService
@using Microsoft.AspNetCore.Components.Routing

<div class="d-flex flex-column min-vh-100">

    <!-- Navbar بالا با رنگ پیش‌فرض Blazor -->
    <nav class="top-row navbar">
        <a class="navbar-brand" href="/">BookBazaar</a>

        <ul class="navbar-nav ms-auto">
            <li class="nav-item">
                <NavLink class="nav-link" href="/products">محصولات</NavLink>
            </li>
            <li class="nav-item">
                <NavLink class="nav-link" href="/cart">
                    🛒 سبد خرید (@CartService.GetCartBooks().Count)
                </NavLink>
            </li>
        </ul>
    </nav>

    <!-- بدنه صفحه: Sidebar + Main -->
    <div class="d-flex">
        <!-- Sidebar با رنگ پیش‌فرض Blazor -->
        <div class="sidebar">
            <NavMenu />
        </div>

        <!-- محتوای اصلی -->
        <main class="flex-fill px-4 py-3">
            @Body
        </main>
    </div>
</div>
